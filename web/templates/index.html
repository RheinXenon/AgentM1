<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能Agent系统</title>
    <!-- 引入外部CSS文件 -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🤖 智能Agent系统</h1>
            <p id="systemDesc">智能助手 - 为您提供专业的咨询服务</p>
        </div>
        
        <!-- 标签页导航 -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('chat')">💬 对话</button>
            <button class="tab" onclick="switchTab('config')">⚙️ 配置</button>
        </div>
        
        <!-- 对话标签页 -->
        <div id="chatTab" class="tab-content active">
            <div class="chat-box" id="chatBox">
                <div class="message assistant">
                    <div class="agent-label">智能助手</div>
                    <div class="message-content" id="welcomeMsg">
                        您好!我是您的智能助手。请问有什么可以帮助您的?
                    </div>
                </div>
            </div>
            
            <div class="loading" id="loading">正在思考中...</div>
            
            <!-- 调试信息区域 -->
            <div class="debug-section">
                <button class="debug-toggle" onclick="toggleDebugInfo()">
                    🔍 调试信息
                </button>
                <div class="debug-info" id="debugInfo">
                    <div class="debug-item">
                        <div class="debug-item-header">📊 Agent决策</div>
                        <div id="debugDecision">暂无数据</div>
                    </div>
                    <div class="debug-item">
                        <div class="debug-item-header">🤖 执行Agent</div>
                        <div id="debugExecution">暂无数据</div>
                    </div>
                    <div class="debug-item">
                        <div class="debug-item-header">🔧 LLM调用记录</div>
                        <div id="debugLLMCalls">暂无调用记录</div>
                    </div>
                </div>
            </div>
            
            <div class="input-area">
                <div class="input-group">
                    <input type="text" id="userInput" placeholder="输入您的问题..." />
                    <button id="sendBtn" onclick="sendMessage()">发送</button>
                </div>
            </div>
        </div>
        
        <!-- 配置标签页 -->
        <div id="configTab" class="tab-content">
            <div class="config-section">
                <div class="success-message" id="successMsg"></div>
                
                <h2 style="margin-bottom: 20px;">系统配置</h2>
                
                <div class="config-item">
                    <label>系统名称</label>
                    <input type="text" id="systemName" placeholder="智能Agent系统" />
                </div>
                
                <div class="config-item">
                    <label>欢迎消息</label>
                    <textarea id="welcomeMessage" placeholder="输入欢迎消息..."></textarea>
                </div>
                
                <div class="config-item">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" id="ragEnabled" />
                        <span>启用RAG知识库（禁用后将不使用知识库检索）</span>
                    </label>
                </div>
                
                <h3 style="margin: 30px 0 15px 0;">提示词配置</h3>
                
                <div class="config-item">
                    <label>Agent决策提示词</label>
                    <textarea id="agentDecisionPrompt" placeholder="输入Agent决策提示词..."></textarea>
                </div>
                
                <div class="config-item">
                    <label>对话Agent提示词</label>
                    <textarea id="conversationPrompt" placeholder="输入对话Agent提示词..."></textarea>
                </div>
                
                <div class="config-item">
                    <label>RAG Agent提示词</label>
                    <textarea id="ragPrompt" placeholder="输入RAG Agent提示词..."></textarea>
                </div>
                
                <div class="config-item">
                    <label>网络搜索Agent提示词</label>
                    <textarea id="websearchPrompt" placeholder="输入网络搜索Agent提示词..."></textarea>
                </div>
                
                <div class="config-buttons">
                    <button class="btn btn-primary" onclick="saveConfig()">💾 保存配置</button>
                    <button class="btn btn-secondary" onclick="resetConfig()">🔄 重置为默认</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 引入外部JavaScript文件 -->
    <script src="/static/js/main.js"></script>
</body>
</html>
